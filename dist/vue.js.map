{"version":3,"file":"vue.js","sources":["../src/compile/generate.js","../src/compile/parseAst.js","../src/compile/index.js","../src/observe/arr.js","../src/observe/index.js","../src/initState.js","../src/lifecycle.js","../src/init.js","../src/vnode/index.js","../src/index.js"],"sourcesContent":["/*\n * @Author: wzy\n * @Date: 2024-02-13 20:23:43\n * @LastEditTime: 2024-02-14 21:51:37\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/compile/generate.js\n */\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n/**\n * @description: 处理属性\n * @param {*} attrs\n * @return {*}\n */\nfunction genPorps(attrs) {\n\tlet str = \"\";\n\tfor (let i = 0; i < attrs.length; i++) {\n\t\tlet attr = attrs[i];\n\t\tif (attr.name == \"style\") {\n\t\t\t// {name: 'style', value: 'color: red;font: size 12px'}\n\t\t\t// style:{color:red,fontsize:12px}\n\t\t\tlet obj = {};\n\t\t\tattr.value.split(\";\").forEach((item) => {\n\t\t\t\tlet [key, val] = item.split(\":\");\n\t\t\t\tobj[key] = val;\n\t\t\t});\n\t\t\tattr.value = obj;\n\t\t}\n\t\t// 拼接\n\t\tstr = `${str}${attr.name}:${JSON.stringify(attr.value)},`;\n\t}\n\tconsole.log(\"str---\", str);\n\treturn `{${str.slice(0, -1)}}`;\n}\n/**\n * @description: 处理子节点\n * @return {*}\n */\nfunction genChildren(el) {\n\tlet children = el.children;\n\tif (children) {\n\t\treturn children.map((child) => gen(child)).join(\",\");\n\t}\n}\nfunction gen(node) {\n\t// 元素\n\tif (node.type == 1) {\n\t\treturn generate(node);\n\t} else {\n\t\t// 文本\n\t\tlet text = node.text;\n\t\tif (!defaultTagRE.test(text)) {\n\t\t\t// 纯文本\n\t\t\tconsole.log(\"text\", text);\n\t\t\treturn `_v(${JSON.stringify(text)})`;\n\t\t}\n\t\t// 插值文本\n\t\tlet tokens = [];\n\t\tlet lastindex = (defaultTagRE.lastIndex = 0);\n\t\tlet match;\n\t\twhile ((match = defaultTagRE.exec(text))) {\n\t\t\tconsole.log(\"match-----\", match);\n\t\t\tlet index = match.index;\n\t\t\tif (index > lastindex) {\n\t\t\t\ttokens.push(JSON.stringify(text.slice(lastindex, index)));\n\t\t\t}\n\t\t\ttokens.push(`_s(${match[1].trim()})`);\n\t\t\tlastindex = index + match[0].length;\n\t\t\tif (lastindex < text.length) {\n\t\t\t\ttokens.push(JSON.stringify(text.slice(lastindex)));\n\t\t\t}\n\t\t\tdebugger;\n\t\t\treturn `_v(${tokens.join(\"+\")})`;\n\t\t}\n\t}\n}\nexport function generate(el) {\n\t// 属性{ id:App,style:{color:ReadableByteStreamController,fontsize:12px}}\n\tlet children = genChildren(el);\n\tlet code = `_c('${el.tag}',${\n\t\tel.attrs.length ? `${genPorps(el.attrs)}` : \"null\"\n\t},${children ? `${children}` : \"null\"})`;\n\t// code _c(div,{style:{\"color\":\" red\",\"font-size\":\" 12px\"}},_v(\"hello\"))\n\tconsole.log(\"code----\", code);\n\tconsole.log(\"el.tag----\", el.tag);\n\treturn code;\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; //标签名称\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //<span:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); //开头箭头\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 标签结束\nconst attribute =\n\t/^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 标签属性\nconst startTagClose = /^\\s*(\\/?)>/;\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n// 创建AST语法树\nfunction creatASTElement(tag, attrs) {\n\treturn {\n\t\ttag, // 元素\n\t\tattrs, // 属性\n\t\tchildren: [], //子节点\n\t\ttype: 1,\n\t\tparent: null,\n\t};\n}\nlet root; // 跟元素\nlet creatParent; // 当前的父元素\n// 数据结构栈\nlet stack = [];\nfunction start(tag, attrs) {\n\t// 开始的标签\n\tlet element = creatASTElement(tag, attrs);\n\tif (!root) {\n\t\troot = element;\n\t}\n\tcreatParent = element;\n\tstack.push(element);\n}\nfunction charts(text) {\n\t// 文本\n\ttext = text.replace(/\\s/g, \"\");\n\tif (text) {\n\t\tcreatParent.children.push({\n\t\t\ttype: 3,\n\t\t\ttext,\n\t\t});\n\t}\n}\nfunction end(tag) {\n\t// 结束标签\n\tlet element = stack.pop();\n\tcreatParent = stack[stack.length - 1];\n\tif (creatParent) {\n\t\telement.parent = creatParent.tag;\n\t\tcreatParent.children.push(element);\n\t}\n}\nexport function parseHTML(html) {\n\twhile (html) {\n\t\t// 判断标签\n\t\tlet textEnd = html.indexOf(\"<\");\n\t\tif (textEnd == 0) {\n\t\t\t// 开始标签\n\t\t\tconst startTagMatch = parseStartTag();\n\t\t\tif (startTagMatch) {\n\t\t\t\tstart(startTagMatch.tagName, startTagMatch.attrs);\n\t\t\t}\n\t\t\t// 结束标签\n\t\t\tlet endTagMatch = html.match(endTag);\n\t\t\tif (endTagMatch) {\n\t\t\t\tadvance(endTagMatch[0].length);\n\t\t\t\tend(endTagMatch[1]);\n\t\t\t}\n\t\t}\n\t\tlet text;\n\t\tif (textEnd > 0) {\n\t\t\t// 文本\n\t\t\t// 获取文本内容\n\t\t\ttext = html.substring(0, textEnd);\n\t\t}\n\t\tif (text) {\n\t\t\tcharts(text);\n\t\t\tadvance(text.length);\n\t\t}\n\t}\n\tfunction parseStartTag() {\n\t\tconst start = html.match(startTagOpen);\n\t\tif (!start) return;\n\t\tlet match = {\n\t\t\ttagName: start[1],\n\t\t\tattrs: [],\n\t\t};\n\t\t// 删除开始标签\n\t\tadvance(start[0].length);\n\t\t// 获取属性\n\t\tlet attr;\n\t\tlet end;\n\t\twhile (\n\t\t\t!(end = html.match(startTagClose)) &&\n\t\t\t(attr = html.match(attribute))\n\t\t) {\n\t\t\tmatch.attrs.push({\n\t\t\t\tname: attr[1],\n\t\t\t\tvalue: attr[3] || attr[4] || attr[5],\n\t\t\t});\n\t\t\tadvance(attr[0].length);\n\t\t}\n\t\tif (end) {\n\t\t\tadvance(end[0].length);\n\t\t\treturn match;\n\t\t}\n\t}\n\tfunction advance(n) {\n\t\thtml = html.substring(n);\n\t}\n\tconsole.log(\"root\", root);\n\treturn root;\n}\n","/*\n * @Author: wzy\n * @Date: 2024-02-12 22:07:27\n * @LastEditTime: 2024-02-14 19:53:55\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/compile/index.js\n */\n\n/* \n<div id=\"app\">\n    \n    <h1> hello word</h1>\n</div> \n*/\nimport { generate } from \"./generate\";\nimport { parseHTML } from \"./parseAst\";\n\nexport function compileToFunction(el) {\n\t// 将html 变成ast语法树\n\tlet ast = parseHTML(el);\n\n\t// 将ast 语法树变成 render 函数 1）ast语法树 变成 字符串 2）字符串变成函数\n\tlet code = generate(ast);\n\n\t// 将ast字符串变成函数\n\n\tlet render = new Function(`with(this){return ${code}}`);\n\tconsole.log(render);\n\treturn render;\n}\n/**\n *  <div id=\"app\">\n        hello{{msg}}\n *       <h1> hello word</h1>\n *  </div>\n * \n * render(){ _c 解析标签\n *\t return _c('div',{id:app},_v('hello'+_s(msg)),_c('h1',_v('hello word')))\n * \n * }\n * \n * \n * \n */\n","/*\nimport { observer } from './index';\n * @Author: wzy\n * @Date: 2024-02-03 18:49:19\n * @LastEditTime: 2024-02-12 21:27:39\n * @LastEditors: wzy\n * @Description: 对数组类型进行响应式处理\n * @FilePath: /myVue/src/observe/arr.js\n */\n// 重写数组\n// 获取数组原来的方法\nlet oldArrayProtoMethods = Array.prototype;\n// 继承\nexport let ArrayMehods = Object.create(oldArrayProtoMethods);\n// 劫持\nlet methods = [\"push\", \"pop\", \"shift\", \"unshift\", \"sort\", \"splice\", \"reverse\"];\nmethods.forEach((item) => {\n\tArrayMehods[item] = function (...args) {\n\t\tconsole.log(\"劫持数组\");\n\t\t// 对追加数据进行响应式处理\n\t\tlet inserted;\n\t\tswitch (item) {\n\t\t\tcase \"push\":\n\t\t\tcase \"unshift\":\n\t\t\t\tinserted = args;\n\t\t\t\tbreak;\n\t\t\tcase \"splice\":\n\t\t\t\tinserted = args.splice(2);\n\t\t\t\tbreak;\n\t\t}\n\t\t// 如果有追加的实例则将追加的数据进行响应式处理\n\t\tlet ob = this.__ob__;\n\t\tif (inserted) {\n\t\t\tob.observerArray(inserted);\n\t\t}\n\n\t\tlet result = oldArrayProtoMethods[item].apply(this, args);\n\t\treturn result;\n\t};\n});\n","/*\nimport { observer } from './index';\n * @Author: wzy\n * @Date: 2024-02-03 18:01:08\n * @LastEditTime: 2024-02-12 21:27:45\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/observe/index.js\n */\nimport { ArrayMehods } from \"./arr\";\nexport function observer(data) {\n\tif (typeof data !== \"object\" || data == null) {\n\t\treturn data;\n\t}\n\t// 对象类型处理\n\treturn new Observer(data);\n}\n\nclass Observer {\n\tconstructor(data) {\n\t\t// 给data定义一个属性 将observer内置的方法绑定到上面，方便后续逻辑调用\n\t\tObject.defineProperty(data, \"__ob__\", {\n\t\t\tenumerable: false,\n\t\t\tvalue: this,\n\t\t});\n\t\tif (Array.isArray(data)) {\n\t\t\tdata.__proto__ = ArrayMehods;\n\t\t\t// 如果是数组对象\n\t\t\tthis.observerArray(data);\n\t\t} else {\n\t\t\t// 对象\n\t\t\tthis.walk(data); // 遍历\n\t\t}\n\t}\n\twalk(data) {\n\t\tlet keys = Object.keys(data);\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t// 对每个属性进行劫持\n\t\t\tlet key = keys[i];\n\t\t\tlet value = data[key];\n\t\t\tdefineReactive(data, key, value);\n\t\t}\n\t}\n\tobserverArray(data) {\n\t\t// 处理数组内是对象的情况\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tobserver(data[i]);\n\t\t}\n\t}\n}\nfunction defineReactive(data, key, value) {\n\t// 对像类型进行递归处理,深度劫持\n\tobserver(value);\n\tObject.defineProperty(data, key, {\n\t\tget() {\n\t\t\treturn value;\n\t\t},\n\t\tset(newValue) {\n\t\t\tif (newValue == value) return;\n\t\t\tobserver(newValue); // 如果设置的是对象，则进行数据响应\n\t\t\tvalue = newValue;\n\t\t},\n\t});\n}\n\n// 总结：\n// 1.对象类型处理\n// Object.defineProperty 有缺点 只能对 对象中的一个属性进行劫持\n// 深层嵌套对象需要遍历 递归处理\n// 用户在对劫持数据进行set操作时 如果新的数据是对象类型也需要进行响应式处理\n\n// 2.数组\n// 对数组的劫持采用的是，重写可以改变数组本省的7个方法（push,pop,shift,unshift,splice,sort,reverse）\n","/*\n * @Author: wzy\n * @Date: 2024-02-03 17:28:41\n * @LastEditTime: 2024-02-14 22:03:26\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/initState.js\n */\n\nimport { observer } from \"./observe/index.js\";\n\nexport function initState(vm) {\n\tlet opts = vm.$options;\n\t//判断\n\tif (opts.props) {\n\t}\n\tif (opts.methods) {\n\t}\n\tif (opts.data) {\n\t\tdebugger;\n\t\tinitData(vm);\n\t}\n\n\tif (opts.computed) {\n\t}\n\tif (opts.watch) {\n\t}\n}\nfunction initData(vm) {\n\tlet data = vm.$options.data;\n\t// 判断data类型是对象还是函数 获取data配置\n\tdata = vm._data = typeof data == \"function\" ? data.call(vm) : data; //注意这里this指向\n\t// 将data上所有的属性代理到vm实例上\n\tfor (let key in data) {\n\t\tproxy(vm, \"_data\", key);\n\t}\n\tconsole.log(\"vm----\", vm);\n\t// 对data进行劫持\n\tobserver(data);\n}\nfunction proxy(vm, source, key) {\n\tObject.defineProperty(vm, key, {\n\t\tget() {\n\t\t\treturn vm[source][key];\n\t\t},\n\t\tset(newValue) {\n\t\t\tvm[source][key] = newValue;\n\t\t},\n\t});\n}\n","/*\n * @Author: wzy\n * @Date: 2024-02-14 19:37:36\n * @LastEditTime: 2024-02-14 19:49:06\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/lifecycle.js\n */\nexport function mountComponent(vm, el) {\n\tvm._update(vm._render());\n}\n\nexport function lifecycleMinxin(Vue) {\n\tVue.prototype._update = function (vnode) {};\n}\n","/*\n * @Author: wzy\n * @Date: 2024-02-03 17:16:22\n * @LastEditTime: 2024-02-14 22:08:54\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/init.js\n */\nimport { compileToFunction } from \"./compile/index.js\";\nimport { initState } from \"./initState.js\";\nimport { mountComponent } from \"./lifecycle.js\";\nexport function initMixin(Vue) {\n\tVue.prototype._init = function (options) {\n\t\tlet vm = this;\n\t\tthis.$options = options;\n\t\t// 初始化状态\n\t\tinitState(vm);\n\t\tconsole.log(vm);\n\t\t// 渲染模版 el\n\t\tif (vm.$options.el) {\n\t\t\tvm.$mount(vm.$options.el);\n\t\t}\n\t};\n\n\t// 创建 $mount\n\tVue.prototype.$mount = function (el) {\n\t\tlet vm = this;\n\t\tel = document.querySelector(el); // 获取元素\n\t\tlet options = vm.$options;\n\t\tif (!options.render) {\n\t\t\tlet template = options.template;\n\t\t\tif (!template && el) {\n\t\t\t\tel = el.outerHTML;\n\t\t\t\tconsole.log(el);\n\n\t\t\t\t// 变成ast语法树\n\n\t\t\t\tlet render = compileToFunction(el);\n\t\t\t\tconsole.log(\"render\", render);\n\t\t\t\t/**\n\t\t\t\t * 将render函数变成vnode\n\t\t\t\t * 将vnode变成真实dom放到页面上\n\t\t\t\t *\n\t\t\t\t */\n\t\t\t\toptions.render = render;\n\t\t\t}\n\t\t}\n\t\tmountComponent(vm, el);\n\t};\n}\n","/*\n * @Author: wzy\n * @Date: 2024-02-14 19:33:30\n * @LastEditTime: 2024-02-14 21:57:23\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/vnode/index.js\n */\n/**\n * @description: 虚拟dom\n * @param {*} Vue\n * @return {*}\n */\nexport function renderMixin(Vue) {\n\tVue.prototype._c = function () {\n\t\t// 标签\n\t\t// 创建标签\n\t\treturn createElement(...arguments);\n\t};\n\tVue.prototype._v = function (text) {\n\t\t// 文本\n\t\treturn createText(text);\n\t};\n\tVue.prototype._s = function (val) {\n\t\treturn val == null\n\t\t\t? \"\"\n\t\t\t: typeof val === \"object\"\n\t\t\t? JSON.stringify(val)\n\t\t\t: val;\n\t\t// 变量\n\t};\n\tVue.prototype._render = function () {\n\t\tlet vm = this;\n\t\tconsole.log(\"this---\", this);\n\t\tlet render = vm.$options.render;\n\t\tlet vnode = render.call(this);\n\t\tconsole.log(\"vnode\", vnode);\n\t};\n}\nfunction createElement(tag, data = {}, ...children) {\n\treturn vnode(tag, data, children);\n}\nfunction vnode(tag, data, children, text) {\n\treturn {\n\t\ttag,\n\t\tdata,\n\t\tchildren,\n\t\ttext,\n\t};\n}\nfunction createText(text) {\n\treturn vnode(undefined, undefined, undefined, text);\n}\n","/*\n * @Author: your name\n * @Date: 2024-02-03 10:45:00\n * @LastEditTime: 2024-02-14 19:50:18\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/index.js\n * 可以输入预定的版权声明、个性签名、空行等\n */\n\nimport { initMixin } from \"./init\";\nimport { lifecycleMinxin } from \"./lifecycle\";\nimport { renderMixin } from \"./vnode/index\";\n\nfunction Vue(options) {\n\tthis._init(options);\n}\ninitMixin(Vue);\nlifecycleMinxin(Vue); // 添加生命周期\nrenderMixin(Vue); // 添加render\n\nexport default Vue;\n"],"names":["defaultTagRE","genPorps","attrs","str","_loop","attr","i","name","obj","value","split","forEach","item","_item$split","_item$split2","_slicedToArray","key","val","concat","JSON","stringify","length","console","log","slice","genChildren","el","children","map","child","gen","join","node","type","generate","text","test","tokens","lastindex","lastIndex","match","exec","index","push","trim","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","creatASTElement","parent","root","creatParent","stack","start","element","charts","replace","end","pop","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","advance","substring","n","compileToFunction","ast","render","Function","oldArrayProtoMethods","Array","prototype","ArrayMehods","Object","create","methods","inserted","_len","arguments","args","_key","splice","ob","__ob__","observerArray","result","apply","observer","data","_typeof","Observer","_classCallCheck","defineProperty","enumerable","isArray","__proto__","walk","_createClass","keys","defineReactive","get","set","newValue","initState","vm","opts","$options","props","initData","computed","watch","_data","call","proxy","source","mountComponent","_update","_render","lifecycleMinxin","Vue","vnode","initMixin","_init","options","$mount","document","querySelector","template","outerHTML","renderMixin","_c","createElement","_v","createText","_s","undefined"],"mappings":"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"}