{"version":3,"file":"vue.js","sources":["../src/compile/generate.js","../src/compile/parseAst.js","../src/compile/index.js","../src/init.js","../src/index.js"],"sourcesContent":["/*\n * @Author: wzy\n * @Date: 2024-02-13 20:23:43\n * @LastEditTime: 2024-02-14 19:13:06\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/compile/generate.js\n */\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n/**\n * @description: 处理属性\n * @param {*} attrs\n * @return {*}\n */\nfunction genPorps(attrs) {\n\tlet str = \"\";\n\tfor (let i = 0; i < attrs.length; i++) {\n\t\tlet attr = attrs[i];\n\t\tif (attr.name == \"style\") {\n\t\t\t// {name: 'style', value: 'color: red;font: size 12px'}\n\t\t\t// style:{color:red,fontsize:12px}\n\t\t\tlet obj = {};\n\t\t\tattr.value.split(\";\").forEach((item) => {\n\t\t\t\tlet [key, val] = item.split(\":\");\n\t\t\t\tobj[key] = val;\n\t\t\t});\n\t\t\tattr.value = obj;\n\t\t}\n\t\t// 拼接\n\t\tstr = `${attr.name}:${JSON.stringify(attr.value)},`;\n\t}\n\treturn `{${str.slice(0, -1)}}`;\n}\n/**\n * @description: 处理子节点\n * @return {*}\n */\nfunction genChildren(el) {\n\tlet children = el.children;\n\tif (children) {\n\t\treturn children.map((child) => gen(child)).join(\",\");\n\t}\n}\nfunction gen(node) {\n\t// 元素\n\tif (node.type == 1) {\n\t\treturn generate(node);\n\t} else {\n\t\t// 文本\n\t\tlet text = node.text;\n\t\tif (!defaultTagRE.test(text)) {\n\t\t\t// 纯文本\n\t\t\tconsole.log(\"text\", text);\n\t\t\treturn `_v(${JSON.stringify(text)})`;\n\t\t}\n\t\t// 插值文本\n\t\tlet tokens = [];\n\t\tlet lastindex = (defaultTagRE.lastIndex = 0);\n\t\tlet match;\n\t\twhile ((match = defaultTagRE.exec(text))) {\n\t\t\tconsole.log(match);\n\t\t\tlet index = match.index;\n\t\t\tif (index > lastindex) {\n\t\t\t\ttokens.push(JSON.stringify(text.slice(lastindex)));\n\t\t\t}\n\t\t\ttokens.push(`_s(${match[1].trim()})`);\n\t\t\tlastindex = index + match[0].length;\n\t\t\tif (lastindex < text.length) {\n\t\t\t\ttokens.push(JSON.stringify(text.slice(lastindex)));\n\t\t\t}\n\t\t\treturn `_v(${tokens.join(\"+\")})`;\n\t\t}\n\t}\n}\nexport function generate(el) {\n\t// 属性{ id:App,style:{color:ReadableByteStreamController,fontsize:12px}}\n\tlet children = genChildren(el);\n\tlet code = `_c(${el.tag},${\n\t\tel.attrs.length ? `${genPorps(el.attrs)}` : \"null\"\n\t},${children ? `${children}` : \"null\"})`;\n\t// code _c(div,{style:{\"color\":\" red\",\"font-size\":\" 12px\"}},_v(\"hello\"))\n\tconsole.log(\"code\", code);\n\treturn code;\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; //标签名称\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //<span:xx>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); //开头箭头\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 标签结束\nconst attribute =\n\t/^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 标签属性\nconst startTagClose = /^\\s*(\\/?)>/;\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n// 创建AST语法树\nfunction creatASTElement(tag, attrs) {\n\treturn {\n\t\ttag, // 元素\n\t\tattrs, // 属性\n\t\tchildren: [], //子节点\n\t\ttype: 1,\n\t\tparent: null,\n\t};\n}\nlet root; // 跟元素\nlet creatParent; // 当前的父元素\n// 数据结构栈\nlet stack = [];\nfunction start(tag, attrs) {\n\t// 开始的标签\n\tlet element = creatASTElement(tag, attrs);\n\tif (!root) {\n\t\troot = element;\n\t}\n\tcreatParent = element;\n\tstack.push(element);\n}\nfunction charts(text) {\n\t// 文本\n\ttext = text.replace(/\\s/g, \"\");\n\tif (text) {\n\t\tcreatParent.children.push({\n\t\t\ttype: 3,\n\t\t\ttext,\n\t\t});\n\t}\n}\nfunction end(tag) {\n\t// 结束标签\n\tlet element = stack.pop();\n\tcreatParent = stack[stack.length - 1];\n\tif (creatParent) {\n\t\telement.parent = creatParent.tag;\n\t\tcreatParent.children.push(element);\n\t}\n}\nexport function parseHTML(html) {\n\twhile (html) {\n\t\t// 判断标签\n\t\tlet textEnd = html.indexOf(\"<\");\n\t\tif (textEnd == 0) {\n\t\t\t// 开始标签\n\t\t\tconst startTagMatch = parseStartTag();\n\t\t\tif (startTagMatch) {\n\t\t\t\tstart(startTagMatch.tagName, startTagMatch.attrs);\n\t\t\t}\n\t\t\t// 结束标签\n\t\t\tlet endTagMatch = html.match(endTag);\n\t\t\tif (endTagMatch) {\n\t\t\t\tadvance(endTagMatch[0].length);\n\t\t\t\tend(endTagMatch[1]);\n\t\t\t}\n\t\t}\n\t\tlet text;\n\t\tif (textEnd > 0) {\n\t\t\t// 文本\n\t\t\t// 获取文本内容\n\t\t\ttext = html.substring(0, textEnd);\n\t\t}\n\t\tif (text) {\n\t\t\tcharts(text);\n\t\t\tadvance(text.length);\n\t\t}\n\t}\n\tfunction parseStartTag() {\n\t\tconst start = html.match(startTagOpen);\n\t\tif (!start) return;\n\t\tlet match = {\n\t\t\ttagName: start[1],\n\t\t\tattrs: [],\n\t\t};\n\t\t// 删除开始标签\n\t\tadvance(start[0].length);\n\t\t// 获取属性\n\t\tlet attr;\n\t\tlet end;\n\t\twhile (\n\t\t\t!(end = html.match(startTagClose)) &&\n\t\t\t(attr = html.match(attribute))\n\t\t) {\n\t\t\tmatch.attrs.push({\n\t\t\t\tname: attr[1],\n\t\t\t\tvalue: attr[3] || attr[4] || attr[5],\n\t\t\t});\n\t\t\tadvance(attr[0].length);\n\t\t}\n\t\tif (end) {\n\t\t\tadvance(end[0].length);\n\t\t\treturn match;\n\t\t}\n\t}\n\tfunction advance(n) {\n\t\thtml = html.substring(n);\n\t}\n\tconsole.log(\"root\", root);\n\treturn root;\n}\n","/*\n * @Author: wzy\n * @Date: 2024-02-12 22:07:27\n * @LastEditTime: 2024-02-14 18:12:30\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/compile/index.js\n */\n\n/* \n<div id=\"app\">\n    \n    <h1> hello word</h1>\n</div> \n*/\nimport { generate } from \"./generate\";\nimport { parseHTML } from \"./parseAst\";\n\nexport function compileToFunction(el) {\n\t// 将html 变成ast语法树\n\tlet ast = parseHTML(el);\n\n\t// 将ast 语法树变成 render 函数 1）ast语法树 变成 字符串 2）字符串变成函数\n\tgenerate(ast);\n}\n/**\n *  <div id=\"app\">\n        hello{{msg}}\n *       <h1> hello word</h1>\n *  </div>\n * \n * render(){ _c 解析标签\n *\t return _c('div',{id:app},_v('hello'+_s(msg)),_c('h1',_v('hello word')))\n * \n * }\n * \n * \n * \n */\n","/*\n * @Author: wzy\n * @Date: 2024-02-03 17:16:22\n * @LastEditTime: 2024-02-12 22:14:13\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/init.js\n */\nimport { compileToFunction } from \"./compile/index.js\";\nexport function initMixin(Vue) {\n\tVue.prototype._init = function (options) {\n\t\tlet vm = this;\n\t\tthis.$options = options;\n\t\t// 初始化状态\n\t\tconsole.log(vm);\n\t\t// 渲染模版 el\n\t\tif (vm.$options.el) {\n\t\t\tvm.$mount(vm.$options.el);\n\t\t}\n\t};\n\n\t// 创建 $mount\n\tVue.prototype.$mount = function (el) {\n\t\tlet vm = this;\n\t\tel = document.querySelector(el); // 获取元素\n\t\tlet options = vm.$options;\n\t\tif (!options.render) {\n\t\t\tlet template = options.template;\n\t\t\tif (!template && el) {\n\t\t\t\tel = el.outerHTML;\n\t\t\t\tconsole.log(el);\n\n\t\t\t\t// 变成ast语法树\n\n\t\t\t\tlet ast = compileToFunction(el);\n\t\t\t}\n\t\t}\n\t};\n}\n","/*\n * @Author: your name\n * @Date: 2024-02-03 10:45:00\n * @LastEditTime: 2024-02-03 17:39:01\n * @LastEditors: wzy\n * @Description:\n * @FilePath: /myVue/src/index.js\n * 可以输入预定的版权声明、个性签名、空行等\n */\n\nimport { initMixin } from \"./init\";\n\nfunction Vue(options) {\n\tthis._init(options);\n}\ninitMixin(Vue);\nexport default Vue;\n"],"names":["defaultTagRE","genPorps","attrs","str","_loop","attr","i","name","obj","value","split","forEach","item","_item$split","_item$split2","_slicedToArray","key","val","concat","JSON","stringify","length","slice","genChildren","el","children","map","child","gen","join","node","type","generate","text","test","console","log","tokens","lastindex","lastIndex","match","exec","index","push","trim","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","creatASTElement","parent","root","creatParent","stack","start","element","charts","replace","end","pop","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","advance","substring","n","compileToFunction","ast","initMixin","Vue","prototype","_init","options","vm","$options","$mount","document","querySelector","render","template","outerHTML"],"mappings":"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"}